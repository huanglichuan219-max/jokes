<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Jokes</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom transition for the background color to make it super smooth */
        body, #app-container {
            transition: background-color 0.7s ease-in-out, color 0.7s ease-in-out;
        }
        
        /* Smooth height transition for the punchline reveal */
        #punchline-container {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Card animations */
        .card-enter {
            animation: slideIn 0.4s ease-out forwards;
        }
        
        .card-exit {
            animation: slideOut 0.3s ease-in forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            to {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
        }
    </style>
</head>
<body class="m-0 p-0 font-sans antialiased overflow-hidden select-none">

    <!-- Main Container -->
    <div id="app-container" class="min-h-screen w-full flex flex-col items-center justify-center p-6 cursor-pointer">
        
        <!-- Decorative Background Elements -->
        <div class="absolute top-10 left-10 w-32 h-32 bg-white opacity-20 rounded-full blur-xl pointer-events-none"></div>
        <div class="absolute bottom-10 right-10 w-48 h-48 bg-white opacity-20 rounded-full blur-xl pointer-events-none"></div>

        <div class="max-w-2xl w-full relative z-10">
            
            <!-- Header Icon -->
            <div class="flex justify-center mb-8">
                <div class="bg-white/30 backdrop-blur-sm p-3 rounded-full shadow-lg text-current">
                    <!-- Smile Icon SVG -->
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                        <line x1="9" y1="9" x2="9.01" y2="9"></line>
                        <line x1="15" y1="9" x2="15.01" y2="9"></line>
                    </svg>
                </div>
            </div>

            <!-- Joke Card -->
            <div id="joke-card" class="bg-white shadow-2xl rounded-3xl p-8 md:p-12 text-center transform transition-transform duration-300 hover:scale-[1.02] active:scale-[0.98]">
                
                <div class="mb-4 flex justify-center opacity-40 text-slate-400">
                    <!-- Message Icon SVG -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                    </svg>
                </div>

                <!-- Setup Text -->
                <h2 id="joke-setup" class="text-2xl md:text-4xl font-bold mb-8 leading-tight text-slate-800">
                    <!-- Javascript will populate this -->
                </h2>

                <!-- Punchline Container (Hidden by default) -->
                <div id="punchline-container" class="max-h-0 opacity-0 overflow-hidden translate-y-4">
                    <p id="joke-punchline" class="text-xl md:text-3xl font-medium text-slate-600 italic border-t-2 border-slate-100 pt-6 mt-2">
                         <!-- Javascript will populate this -->
                    </p>
                </div>
                
                <!-- Instruction Text -->
                <div id="instruction-text" class="mt-8 text-sm uppercase tracking-widest font-bold text-slate-400 animate-pulse flex items-center justify-center gap-2">
                    <span>Tap for punchline</span>
                </div>
            </div>

            <!-- Counter -->
            <div id="joke-counter" class="mt-8 text-center opacity-60 text-sm font-medium">
                <!-- 1 of 10 -->
            </div>
        </div>
    </div>

    <script>
        // Data
        const jokes = [
            { setup: "Why did the scarecrow win an award?", punchline: "Because he was outstanding in his field!" },
            { setup: "What do you call a fake noodle?", punchline: "An impasta!" },
            { setup: "Why did the math book look sad?", punchline: "Because it had too many problems." },
            { setup: "Parallel lines have so much in common.", punchline: "It's a shame they'll never meet." },
            { setup: "Why don't skeletons fight each other?", punchline: "They don't have the guts." },
            { setup: "Why couldn't the bicycle stand up by itself?", punchline: "It was two tired." },
            { setup: "Why did the golfer bring two pairs of pants?", punchline: "In case he got a hole in one." },
            { setup: "What did the zero say to the eight?", punchline: "That belt looks good on you." },
            { setup: "How do you organize a space party?", punchline: "You planet." },
            { setup: "Why did the coffee file a police report?", punchline: "It got mugged." },
            { setup: "What do you call cheese that isn't yours?", punchline: "Nacho cheese." },
            { setup: "Why did the picture go to jail?", punchline: "Because it was framed." }
        ];

        // Themes corresponding to Tailwind classes
        // We use an object to store both bg and text colors for the container
        const themes = [
            { bg: "bg-blue-100", text: "text-blue-900" },
            { bg: "bg-green-100", text: "text-green-900" },
            { bg: "bg-purple-100", text: "text-purple-900" },
            { bg: "bg-orange-100", text: "text-orange-900" },
            { bg: "bg-pink-100", text: "text-pink-900" },
            { bg: "bg-teal-100", text: "text-teal-900" },
        ];

        // State
        let currentIndex = 0;
        let isPunchlineVisible = false;
        let isAnimating = false;

        // DOM Elements
        const appContainer = document.getElementById('app-container');
        const card = document.getElementById('joke-card');
        const setupEl = document.getElementById('joke-setup');
        const punchlineContainer = document.getElementById('punchline-container');
        const punchlineEl = document.getElementById('joke-punchline');
        const instructionEl = document.getElementById('instruction-text');
        const counterEl = document.getElementById('joke-counter');

        // Functions
        function updateTheme() {
            // Remove all possible theme classes first
            themes.forEach(theme => {
                appContainer.classList.remove(theme.bg, theme.text);
            });
            
            // Add current theme classes
            const currentTheme = themes[currentIndex % themes.length];
            appContainer.classList.add(currentTheme.bg, currentTheme.text);
        }

        function renderJoke() {
            const joke = jokes[currentIndex];
            setupEl.textContent = `"${joke.setup}"`;
            punchlineEl.textContent = joke.punchline;
            counterEl.textContent = `Joke ${currentIndex + 1} of ${jokes.length}`;
            
            // Reset punchline visibility in UI
            punchlineContainer.classList.remove('max-h-40', 'opacity-100', 'translate-y-0');
            punchlineContainer.classList.add('max-h-0', 'opacity-0', 'translate-y-4');
            
            // Reset instruction
            instructionEl.innerHTML = `<span>Tap for punchline</span>`;
        }

        function showPunchline() {
            isPunchlineVisible = true;
            punchlineContainer.classList.remove('max-h-0', 'opacity-0', 'translate-y-4');
            punchlineContainer.classList.add('max-h-40', 'opacity-100', 'translate-y-0');
            
            // Update instruction with Arrow icon
            instructionEl.innerHTML = `
                <span>Tap for next joke</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            `;
        }

        function nextJoke() {
            if (isAnimating) return;
            isAnimating = true;

            // Animate Out
            card.classList.add('card-exit');

            setTimeout(() => {
                // Logic update
                currentIndex = (currentIndex + 1) % jokes.length;
                isPunchlineVisible = false;
                
                updateTheme();
                renderJoke();
                
                // Animate In
                card.classList.remove('card-exit');
                card.classList.add('card-enter');
                
                // Cleanup animation class after it finishes
                setTimeout(() => {
                    card.classList.remove('card-enter');
                    isAnimating = false;
                }, 400);

            }, 300); // Wait for exit animation
        }

        function handleInteraction() {
            if (isAnimating) return;

            if (!isPunchlineVisible) {
                showPunchline();
            } else {
                nextJoke();
            }
        }

        // Initialization
        updateTheme();
        renderJoke();

        // Event Listeners
        // We attach to the container so clicking anywhere works
        appContainer.addEventListener('click', handleInteraction);
        
        // Add keyboard support (Space / Enter)
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' || e.code === 'Enter') {
                handleInteraction();
            }
        });

    </script>
</body>
</html>